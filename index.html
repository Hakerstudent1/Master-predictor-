<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Wingo Predictor</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        :root {
            --background-color: #1a1a2e;
            --card-background: rgba(255, 255, 255, 0.05);
            --text-primary: #ffffff;
            --text-secondary: #a1a1a1;
            --border-color: rgba(255, 255, 255, 0.1);
            --gradient-1: linear-gradient(135deg, #e91e63, #c2185b);
            --gradient-2: linear-gradient(135deg, #4CAF50, #2E7D32);
            --gradient-3: linear-gradient(135deg, #00BCD4, #00838F);
            --gradient-4: linear-gradient(135deg, #FF9800, #E65100);
            --gradient-5: linear-gradient(135deg, #8E2DE2, #4A00E0);
            /* NEW GRADIENT FOR BLOCK 10 - Using Gradient 5 */
            --gradient-10: linear-gradient(135deg, #8E2DE2, #4A00E0);
            --color-big: #4ECDC4;
            --color-small: #FF6B6B;
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.2);
            --color-error: #FFD700;
            --color-delete: #ff4d4d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--background-color);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        #main-content {
            display: flex;
            width: 100%;
            max-width: 1800px;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(28px, 6vw, 40px);
            color: var(--text-primary);
            text-shadow: 0 0 10px rgba(233, 30, 99, 0.5), 0 0 20px rgba(233, 30, 99, 0.3);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .container-wrapper {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            width: 100%;
        }

        .container {
            background: var(--card-background);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            box-shadow: var(--shadow-medium);
            border: 1px solid var(--border-color);
            width: 100%;
            max-width: 450px;
            flex-grow: 1;
        }

        .container h2 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            text-align: center;
            margin-bottom: 25px;
            font-size: 22px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            font-size: 16px;
        }

        .info-label {
            color: var(--text-secondary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-value {
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            font-size: 18px;
        }

        /* ADDED #timer-b10 */
        #timer-1m, #timer-b2, #timer-b3, #timer-b4, #timer-b5, #timer-b6, #timer-b7, #timer-b8, #timer-b9, #timer-b10 {
            color: var(--color-big);
        }

        .result-box {
            text-align: center;
            margin-top: 20px;
        }

        .result-label {
            font-size: 14px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .result-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 32px;
            font-weight: 700;
            padding: 10px 20px;
            border-radius: 8px;
            display: inline-block;
            min-width: 150px;
            transition: all 0.3s ease;
        }
        
        .result-text.color-error {
            font-size: 16px;
            color: var(--color-error);
            border: 1px solid var(--color-error);
            background: rgba(255, 215, 0, 0.05);
        }

        .color-big {
            color: var(--color-big) !important;
            border-color: var(--color-big) !important;
        }

        .color-small {
            color: var(--color-small) !important;
            border-color: var(--color-small) !important;
        }

        /* ADDED #prediction-b10 */
        #prediction-1m.color-big, #prediction-b2.color-big, #prediction-b3.color-big, #prediction-b4.color-big, #prediction-b5.color-big, #prediction-b6.color-big, #prediction-b7.color-big, #prediction-b8.color-big, #prediction-b9.color-big, #prediction-b10.color-big {
            background: rgba(78, 205, 196, 0.1);
        }

        /* ADDED #prediction-b10 */
        #prediction-1m.color-small, #prediction-b2.color-small, #prediction-b3.color-small, #prediction-b4.color-small, #prediction-b5.color-small, #prediction-b6.color-small, #prediction-b7.color-small, #prediction-b8.color-small, #prediction-b9.color-small, #prediction-b10.color-small {
            background: rgba(255, 107, 107, 0.1);
        }
        
        /* ADDED #prediction-b10 */
        #prediction-1m.color-wait, #prediction-b2.color-wait, #prediction-b3.color-wait, #prediction-b4.color-wait, #prediction-b5.color-wait, #prediction-b6.color-wait, #prediction-b7.color-wait, #prediction-b8.color-wait, #prediction-b9.color-wait, #prediction-b10.color-wait {
            font-size: 18px;
            color: var(--text-secondary);
        }
        
        /* ADDED #prediction-b10 */
        #prediction-1m.color-error, #prediction-b2.color-error, #prediction-b3.color-error, #prediction-b4.color-error, #prediction-b5.color-error, #prediction-b6.color-error, #prediction-b7.color-error, #prediction-b8.color-error, #prediction-b9.color-error, #prediction-b10.color-error {
            font-size: 16px;
            color: var(--color-error);
            border: 1px solid var(--color-error);
            background: rgba(255, 215, 0, 0.05);
        }

        #block-1m-container,
        #block-b2-container,
        #block-b3-container,
        #block-b4-container,
        #block-b6-container,
        #block-b7-container {
            display: none;
        }
    </style>
</head>
<body>

    <div id="main-content">

        <div class="header">
            <h1><i class="fas fa-layer-group"></i> Master Wingo Predictor</h1>
        </div>

        <div class="container-wrapper">
            
            <div class="container" id="block-b5-container">
                <h2 style="background: var(--gradient-5); -webkit-background-clip: text; color: transparent; font-size: 19px;"> <i class="fas fa-atom"></i> DURVESH VIP 3-4 LEVEL QUANTUM ENGINE
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b5">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b5">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">Quantum Prediction</div>
                    <span class="result-text color-wait" id="prediction-b5">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b4-container">
                <h2 style="background: var(--gradient-4); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-crown"></i> Durvesh VIP
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b4">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b4">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">10th Match Prediction</div>
                    <span class="result-text color-wait" id="prediction-b4">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-1m-container">
                <h2><i class="fas fa-shield-alt"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-1m">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-1m">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">L-11 Prediction</div>
                    <span class="result-text color-wait" id="prediction-1m">Waiting...</span>
                </div>
            </div>
            
            <div class="container" id="block-b2-container">
                <h2><i class="fas fa-cogs"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b2">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b2">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">1+3+9 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b2">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b3-container">
                <h2><i class="fas fa-project-diagram"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b3">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b3">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">Hack Match Prediction</div>
                    <span class="result-text color-wait" id="prediction-b3">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b6-container">
                <h2 style="background: var(--gradient-3); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-star"></i> NEW LOGIC BLOCK
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b6">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b6">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B6 Prediction (12th)</div>
                    <span class="result-text color-wait" id="prediction-b6">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b7-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-microchip"></i> BLOCK 7 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b7">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b7">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B7 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b7">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b8-container">
                <h2 style="background: var(--gradient-2); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-calculator"></i> BLOCK 8 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b8">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b8">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B8 Prediction (1-Win Rev)</div>
                    <span class="result-text color-wait" id="prediction-b8">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b9-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-sitemap"></i> BLOCK 9 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b9">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b9">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B9 Prediction (B7+B8)</div>
                    <span class="result-text color-wait" id="prediction-b9">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b10-container">
                <h2 style="background: var(--gradient-10); -webkit-background-clip: text; color: transparent; font-size: 19px;">
                    <i class="fas fa-atom"></i> DURVESH VIP 3 level
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b10">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b10">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B10 Prediction (B8/B9 Compare)</div>
                    <span class="result-text color-wait" id="prediction-b10">Waiting...</span>
                </div>
            </div>
            </div>
    </div>

    <script>
        const predictorApp = {
            // --- GLOBAL STATE ---
            oneMinHistory: [],
            last1mPeriod: "",
            
            // --- LOSS DETECTION STATES ---
            consecutiveLossCount: 0,
            oneMinPredictionHistory: [],
            
            consecutiveLossCountB3: 0,
            block3PredictionHistory: [],
            
            consecutiveLossCountB4: 0,
            block4PredictionHistory: [],
            
            consecutiveLossCountB5: 0,
            block5PredictionHistory: [],

            consecutiveLossCountB6: 0,
            block6PredictionHistory: [],

            consecutiveLossCountB7: 0,
            block7PredictionHistory: [],

            consecutiveWinCountB8: 0, 
            block8PredictionHistory: [],

            consecutiveLossCountB9: 0,
            block9PredictionHistory: [],
            block7LastPrediction: null, 
            block8LastPrediction: null, 

            // --- ADDED FOR BLOCK 10 ---
            consecutiveLossCountB10: 0,
            block10PredictionHistory: [],
            block9LastPrediction: null,

            // --- HELPER FUNCTION ---
            delay: ms => new Promise(resolve => setTimeout(resolve, ms)),

            // --- PREDICTOR CLASSES (FROM YOUR FILE) ---
            AIPredictor: class {
                constructor() { this.history = []; this.lastPrediction = null; }
                analyzePatterns(history) {
                    if (history.length < 5) return null;
                    const analysis = { sizeStreak: 0, sizeAlternation: 0, numberFrequency: {}, lastNumbers: [] };
                    analysis.lastNumbers = history.slice(0, 5).map(item => item.number);
                    let currentStreak = 1; let alternations = 0;
                    for (let i = 1; i < history.length; i++) {
                        const prevSize = history[i-1].size; const currentSize = history[i].size;
                        if (prevSize === currentSize) { currentStreak++; } else {
                            analysis.sizeStreak = Math.max(analysis.sizeStreak, currentStreak);
                            currentStreak = 1; alternations++;
                        }
                        if (!analysis.numberFrequency[history[i].number]) { analysis.numberFrequency[history[i].number] = 0; }
                        analysis.numberFrequency[history[i].number]++;
                    }
                    analysis.sizeAlternation = alternations / (history.length - 1);
                    analysis.sizeStreak = currentStreak;
                    return analysis;
                }
                generatePrediction(analysis) {
                    if (!analysis) return this.generateRandomPrediction();
                    const prediction = { number: null, size: null, confidence: 0.5, reasoning: [] };
                    if (analysis.sizeStreak >= 3) {
                        const lastSize = analysis.lastNumbers[0] <= 4 ? 'small' : 'big';
                        prediction.size = lastSize === 'small' ? 'big' : 'small';
                        prediction.confidence += 0.2;
                            padding: 20px;
        }
        #main-content {
            display: flex;
            width: 100%;
            max-width: 1800px;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(28px, 6vw, 40px);
            color: var(--text-primary);
            text-shadow: 0 0 10px rgba(233, 30, 99, 0.5), 0 0 20px rgba(233, 30, 99, 0.3);
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        .container-wrapper {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            width: 100%;
        }
        .container {
            background: var(--card-background);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            box-shadow: var(--shadow-medium);
            border: 1px solid var(--border-color);
            width: 100%;
            max-width: 450px;
            flex-grow: 1;
        }
        .container h2 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            text-align: center;
            margin-bottom: 25px;
            font-size: 22px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            font-size: 16px;
        }
        .info-label {
            color: var(--text-secondary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .info-value {
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            font-size: 18px;
        }
        #timer-1m, #timer-b2, #timer-b3, #timer-b4, #timer-b5, #timer-b6, #timer-b7, #timer-b8, #timer-b9, #timer-b10 {
            color: var(--color-big);
        }
        .result-box { text-align: center; margin-top: 20px; }
        .result-label {
            font-size: 14px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }
        .result-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 32px;
            font-weight: 700;
            padding: 10px 20px;
            border-radius: 8px;
            display: inline-block;
            min-width: 150px;
            transition: all 0.3s ease;
        }
        .result-text.color-error {
            font-size: 16px;
            color: var(--color-error);
            border: 1px solid var(--color-error);
            background: rgba(255, 215, 0, 0.05);
        }
        .color-big { color: var(--color-big) !important; border-color: var(--color-big) !important; }
        .color-small { color: var(--color-small) !important; border-color: var(--color-small) !important; }
        #prediction-1m.color-big, #prediction-b2.color-big, #prediction-b3.color-big, #prediction-b4.color-big, #prediction-b5.color-big, #prediction-b6.color-big, #prediction-b7.color-big, #prediction-b8.color-big, #prediction-b9.color-big, #prediction-b10.color-big {
            background: rgba(78, 205, 196, 0.1);
        }
        #prediction-1m.color-small, #prediction-b2.color-small, #prediction-b3.color-small, #prediction-b4.color-small, #prediction-b5.color-small, #prediction-b6.color-small, #prediction-b7.color-small, #prediction-b8.color-small, #prediction-b9.color-small, #prediction-b10.color-small {
            background: rgba(255, 107, 107, 0.1);
        }
        #prediction-1m.color-wait, #prediction-b2.color-wait, #prediction-b3.color-wait, #prediction-b4.color-wait, #prediction-b5.color-wait, #prediction-b6.color-wait, #prediction-b7.color-wait, #prediction-b8.color-wait, #prediction-b9.color-wait, #prediction-b10.color-wait {
            font-size: 18px;
            color: var(--text-secondary);
        }
        #prediction-1m.color-error, #prediction-b2.color-error, #prediction-b3.color-error, #prediction-b4.color-error, #prediction-b5.color-error, #prediction-b6.color-error, #prediction-b7.color-error, #prediction-b8.color-error, #prediction-b9.color-error, #prediction-b10.color-error {
            font-size: 16px;
            color: var(--color-error);
            border: 1px solid var(--color-error);
            background: rgba(255, 215, 0, 0.05);
        }
        #block-1m-container, #block-b2-container, #block-b3-container, #block-b4-container, #block-b6-container, #block-b7-container {
            display: none;
        }
    </style>
</head>
<body>
    <div id="main-content">
        <div class="header">
            <h1><i class="fas fa-layer-group"></i> Master Wingo Predictor</h1>
        </div>
        <div class="container-wrapper">
            <div class="container" id="block-b5-container">
                <h2 style="background: var(--gradient-5); -webkit-background-clip: text; color: transparent; font-size: 19px;"> <i class="fas fa-atom"></i> DURVESH VIP 3-4 LEVEL QUANTUM ENGINE</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b5">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b5">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">Quantum Prediction</div>
                    <span class="result-text color-wait" id="prediction-b5">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b4-container">
                <h2 style="background: var(--gradient-4); -webkit-background-clip: text; color: transparent;"><i class="fas fa-crown"></i> Durvesh VIP</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b4">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b4">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">10th Match Prediction</div>
                    <span class="result-text color-wait" id="prediction-b4">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-1m-container">
                <h2><i class="fas fa-shield-alt"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-1m">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-1m">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">L-11 Prediction</div>
                    <span class="result-text color-wait" id="prediction-1m">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b2-container">
                <h2><i class="fas fa-cogs"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b2">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b2">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">1+3+9 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b2">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b3-container">
                <h2><i class="fas fa-project-diagram"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b3">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b3">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">Hack Match Prediction</div>
                    <span class="result-text color-wait" id="prediction-b3">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b6-container">
                <h2 style="background: var(--gradient-3); -webkit-background-clip: text; color: transparent;"><i class="fas fa-star"></i> NEW LOGIC BLOCK</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b6">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b6">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B6 Prediction (12th)</div>
                    <span class="result-text color-wait" id="prediction-b6">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b7-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;"><i class="fas fa-microchip"></i> BLOCK 7 LOGIC</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b7">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b7">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B7 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b7">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b8-container">
                <h2 style="background: var(--gradient-2); -webkit-background-clip: text; color: transparent;"><i class="fas fa-calculator"></i> BLOCK 8 LOGIC</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b8">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b8">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B8 Prediction (1-Win Rev)</div>
                    <span class="result-text color-wait" id="prediction-b8">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b9-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;"><i class="fas fa-sitemap"></i> BLOCK 9 LOGIC</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b9">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b9">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B9 Prediction (B7+B8)</div>
                    <span class="result-text color-wait" id="prediction-b9">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b10-container">
                <h2 style="background: var(--gradient-10); -webkit-background-clip: text; color: transparent; font-size: 19px;">
                    <i class="fas fa-atom"></i> DURVESH VIP 3 level
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b10">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b10">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B10 Prediction (B8/B9 Compare)</div>
                    <span class="result-text color-wait" id="prediction-b10">Waiting...</span>
                </div>
            </div>
            </div>
    </div>

    <script>
        const predictorApp = {
            oneMinHistory: [],
            last1mPeriod: "",
            consecutiveLossCount: 0,
            oneMinPredictionHistory: [],
            consecutiveLossCountB3: 0,
            block3PredictionHistory: [],
            consecutiveLossCountB4: 0,
            block4PredictionHistory: [],
            consecutiveLossCountB5: 0,
            block5PredictionHistory: [],
            consecutiveLossCountB6: 0,
            block6PredictionHistory: [],
            consecutiveLossCountB7: 0,
            block7PredictionHistory: [],
            consecutiveWinCountB8: 0, 
            block8PredictionHistory: [],
            consecutiveLossCountB9: 0,
            block9PredictionHistory: [],
            block7LastPrediction: null, 
            block8LastPrediction: null, 
            consecutiveLossCountB10: 0,
            block10PredictionHistory: [],
            block9LastPrediction: null,
            delay: ms => new Promise(resolve => setTimeout(resolve, ms)),
            
            AIPredictor: class {
                constructor() { this.history = []; this.lastPrediction = null; }
                analyzePatterns(history) {
                    if (history.length < 5) return null;
                    const analysis = { sizeStreak: 0, sizeAlternation: 0, numberFrequency: {}, lastNumbers: [] };
                    analysis.lastNumbers = history.slice(0, 5).map(item => item.number);
                    let currentStreak = 1; let alternations = 0;
                    for (let i = 1; i < history.length; i++) {
                        const prevSize = history[i-1].size; const currentSize = history[i].size;
                        if (prevSize === currentSize) { currentStreak++; } else {
                            analysis.sizeStreak = Math.max(analysis.sizeStreak, currentStreak);
                            currentStreak = 1; alternations++;
                        }
                        if (!analysis.numberFrequency[history[i].number]) { analysis.numberFrequency[history[i].number] = 0; }
                        analysis.numberFrequency[history[i].number]++;
                    }
                    analysis.sizeAlternation = alternations / (history.length - 1);
                    analysis.sizeStreak = currentStreak;
                    return analysis;
                }
                generatePrediction(analysis) {
                    if (!analysis) return this.generateRandomPrediction();
                    const prediction = { number: null, size: null, confidence: 0.5, reasoning: [] };
                    if (analysis.sizeStreak >= 3) {
                        const lastSize = analysis.lastNumbers[0] <= 4 ? 'small' : 'big';
                        prediction.size = lastSize === 'small' ? 'big' : 'small';
                        prediction.confidence += 0.2;
                        prediction.reasoning.push(`Breaking ${analysis.sizeStreak}-${lastSize} streak`);
                    }
                    if (analysis.sizeAlternation > 0.7) {
                        prediction.size = analysis.lastNumbers[0] <= 4 ? 'big' : 'small';
                        prediction.confidence += 0.15;
                        prediction.reasoning.push(`High alternation pattern (${(analysis.sizeAlternation*100).toFixed(0)}%)`);
                    }
                    if (prediction.size === null && prediction.number === null) { return this.generateWeightedRandomPrediction(analysis); }
                    if (prediction.number === null) {
                        const possibleNumbers = prediction.size === 'small' ? [0, 1, 2, 3, 4] : [5, 6, 7, 8, 9];
                        prediction.number = possibleNumbers[Math.floor(Math.random() * possibleNumbers.length)];
                    } else if (prediction.size === null) { prediction.size = prediction.number <= 4 ? 'small' : 'big'; }
                    prediction.confidence = Math.min(0.9, prediction.confideni class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b2">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">1+3+9 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b2">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b3-container">
                <h2><i class="fas fa-project-diagram"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b3">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b3">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">Hack Match Prediction</div>
                    <span class="result-text color-wait" id="prediction-b3">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b6-container">
                <h2 style="background: var(--gradient-3); -webkit-background-clip: text; color: transparent;"><i class="fas fa-star"></i> NEW LOGIC BLOCK</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b6">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b6">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B6 Prediction (12th)</div>
                    <span class="result-text color-wait" id="prediction-b6">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b7-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;"><i class="fas fa-microchip"></i> BLOCK 7 LOGIC</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b7">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b7">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B7 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b7">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b8-container">
                <h2 style="background: var(--gradient-2); -webkit-background-clip: text; color: transparent;"><i class="fas fa-calculator"></i> BLOCK 8 LOGIC</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b8">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b8">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B8 Prediction (1-Win Rev)</div>
                    <span class="result-text color-wait" id="prediction-b8">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b9-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;"><i class="fas fa-sitemap"></i> BLOCK 9 LOGIC</h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b9">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b9">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B9 Prediction (B7+B8)</div>
                    <span class="result-text color-wait" id="prediction-b9">Waiting...</span>
                </div>
            </div>
            <div class="container" id="block-b10-container">
                <h2 style="background: var(--gradient-10); -webkit-background-clip: text; color: transparent; font-size: 19px;">
                    <i class="fas fa-atom"></i> DURVESH VIP 3 level
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b10">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b10">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B10 Prediction (B8/B9 Compare)</div>
                    <span class="result-text color-wait" id="prediction-b10">Waiting...</span>
                </div>
            </div>
            </div>
    </div>

    <script>
        const predictorApp = {
            oneMinHistory: [],
            last1mPeriod: "",
            consecutiveLossCount: 0,
            oneMinPredictionHistory: [],
            consecutiveLossCountB3: 0,
            block3PredictionHistory: [],
            consecutiveLossCountB4: 0,
            block4PredictionHistory: [],
            consecutiveLossCountB5: 0,
            block5PredictionHistory: [],
            consecutiveLossCountB6: 0,
            block6PredictionHistory: [],
            consecutiveLossCountB7: 0,
            block7PredictionHistory: [],
            consecutiveWinCountB8: 0, 
            block8PredictionHistory: [],
            consecutiveLossCountB9: 0,
            block9PredictionHistory: [],
            block7LastPrediction: null, 
            block8LastPrediction: null, 
            consecutiveLossCountB10: 0,
            block10PredictionHistory: [],
            block9LastPrediction: null,
            delay: ms => new Promise(resolve => setTimeout(resolve, ms)),
            
            AIPredictor: class {
                constructor() { this.history = []; this.lastPrediction = null; }
                analyzePatterns(history) {
                    if (history.length < 5) return null;
                    const analysis = { sizeStreak: 0, sizeAlternation: 0, numberFrequency: {}, lastNumbers: [] };
                    analysis.lastNumbers = history.slice(0, 5).map(item => item.number);
                    let currentStreak = 1; let alternations = 0;
                    for (let i = 1; i < history.length; i++) {
                        const prevSize = history[i-1].size; const currentSize = history[i].size;
                        if (prevSize === currentSize) { currentStreak++; } else {
                            analysis.sizeStreak = Math.max(analysis.sizeStreak, currentStreak);
                            currentStreak = 1; alternations++;
                        }
                        if (!analysis.numberFrequency[history[i].number]) { analysis.numberFrequency[history[i].number] = 0; }
                        analysis.numberFrequency[history[i].number]++;
                    }
                    analysis.sizeAlternation = alternations / (history.length - 1);
                    analysis.sizeStreak = currentStreak;
                    return analysis;
                }
                generatePrediction(analysis) {
                    if (!analysis) return this.generateRandomPrediction();
                    const prediction = { number: null, size: null, confidence: 0.5, reasoning: [] };
                    if (analysis.sizeStreak >= 3) {
                        const lastSize = analysis.lastNumbers[0] <= 4 ? 'small' : 'big';
                        prediction.size = lastSize === 'small' ? 'big' : 'small';
                        prediction.confidence += 0.2;
                        prediction.reasoning.push(`Breaking ${analysis.sizeStreak}-${lastSize} streak`);
                    }
                    if (analysis.sizeAlternation > 0.7) {
                        prediction.size = analysis.lastNumbers[0] <= 4 ? 'big' : 'small';
                        prediction.confidence += 0.15;
                        prediction.reasoning.push(`High alternation pattern (${(analysis.sizeAlternation*100).toFixed(0)}%)`);
                    }
                    if (prediction.size === null && prediction.number === null) { return this.generateWeightedRandomPrediction(analysis); }
                    if (prediction.number === null) {
                        const possibleNumbers = prediction.size === 'small' ? [0, 1, 2, 3, 4] : [5, 6, 7, 8, 9];
                        prediction.number = possibleNumbers[Math.floor(Math.random() * possibleNumbers.length)];
                    } else if (prediction.size === null) { prediction.size = prediction.number <= 4 ? 'small' : 'big'; }
                    prediction.confidence = Math.min(0.9, prediction.confiden">
                    <div class="result-label">L-11 Prediction</div>
                    <span class="result-text color-wait" id="prediction-1m">Waiting...</span>
                </div>
            </div>
            
            <div class="container" id="block-b2-container">
                <h2><i class="fas fa-cogs"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b2">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b2">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">1+3+9 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b2">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b3-container">
                <h2><i class="fas fa-project-diagram"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b3">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b3">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">Hack Match Prediction</div>
                    <span class="result-text color-wait" id="prediction-b3">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b6-container">
                <h2 style="background: var(--gradient-3); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-star"></i> NEW LOGIC BLOCK
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b6">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b6">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B6 Prediction (12th)</div>
                    <span class="result-text color-wait" id="prediction-b6">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b7-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-microchip"></i> BLOCK 7 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b7">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b7">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B7 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b7">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b8-container">
                <h2 style="background: var(--gradient-2); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-calculator"></i> BLOCK 8 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b8">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b8">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B8 Prediction (1-Win Rev)</div>
                    <span class="result-text color-wait" id="prediction-b8">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b9-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-sitemap"></i> BLOCK 9 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b9">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b9">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B9 Prediction (B7+B8)</div>
                    <span class="result-text color-wait" id="prediction-b9">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b10-container">
                <h2 style="background: var(--gradient-10); -webkit-background-clip: text; color: transparent; font-size: 19px;">
                    <i class="fas fa-atom"></i> DURVESH VIP 3 level
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b10">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b10">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B10 Prediction (B8/B9 Compare)</div>
                    <span class="result-text color-wait" id="prediction-b10">Waiting...</span>
                </div>
            </div>
            </div>
    </div>

    <script>
        const predictorApp = {
            // --- GLOBAL STATE ---
            oneMinHistory: [],
            last1mPeriod: "",
            
            // --- LOSS DETECTION STATES ---
            consecutiveLossCount: 0,
            oneMinPredictionHistory: [],
            
            consecutiveLossCountB3: 0,
            block3PredictionHistory: [],
            
            consecutiveLossCountB4: 0,
            block4PredictionHistory: [],
            
            consecutiveLossCountB5: 0,
            block5PredictionHistory: [],

            consecutiveLossCountB6: 0,
            block6PredictionHistory: [],

            consecutiveLossCountB7: 0,
            block7PredictionHistory: [],

            consecutiveWinCountB8: 0, 
            block8PredictionHistory: [],

            consecutiveLossCountB9: 0,
            block9PredictionHistory: [],
            block7LastPrediction: null, 
            block8LastPrediction: null, 

            // --- ADDED FOR BLOCK 10 ---
            consecutiveLossCountB10: 0,
            block10PredictionHistory: [],
            block9LastPrediction: null,

            // --- HELPER FUNCTION ---
            delay: ms => new Promise(resolve => setTimeout(resolve, ms)),

            // --- PREDICTOR CLASSES (AI, DEV DARK, ZENITH) ---
            // (The full predictor logic is here, unchanged)
            
            AIPredictor: class {
                constructor() { this.history = []; this.lastPrediction = null; }
                analyzePatterns(history) {
                    if (history.length < 5) return null;
                    const analysis = { sizeStreak: 0, sizeAlternation: 0, numberFrequency: {}, lastNumbers: [] };
                    analysis.lastNumbers = history.slice(0, 5).map(item => item.number);
                    let currentStreak = 1; let alternations = 0;
                    for (let i = 1; i < history.length; i++) {
                        const prevSize = history[i-1].size; const currentSize = history[i].size;
                        if (prevSize === currentSize) { currentStreak++; } else {
                            analysis.sizeStreak = Math.max(analysis.sizeStreak, currentStreak);
                            currentStreak = 1; alternations++;
                        }
                        if (!analysis.numberFrequency[history[i].number]) { analysis.numberFrequency[history[i].number] = 0; }
                        analysis.numberFrequency[history[i].number]++;
                    }
                    analysis.sizeAlternation = alternations / (history.length - 1);
                    analysis.sizeStreak = currentStreak;
                    return analysis;
                }
                generatePrediction(analysis) {
                    if (!analysis) return this.generateRandomPrediction();
                    const prediction = { number: null, size: null, confidence: 0.5, reasoning: [] };
                    if (analysis.sizeStreak >= 3) {
                        const lastSize = analysis.lastNumbers[0] <= 4 ? 'small' : 'big';
                        prediction.size = lastSize === 'small' ? 'big' :">
                    <div class="result-label">L-11 Prediction</div>
                    <span class="result-text color-wait" id="prediction-1m">Waiting...</span>
                </div>
            </div>
            
            <div class="container" id="block-b2-container">
                <h2><i class="fas fa-cogs"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b2">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b2">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">1+3+9 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b2">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b3-container">
                <h2><i class="fas fa-project-diagram"></i></h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b3">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b3">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">Hack Match Prediction</div>
                    <span class="result-text color-wait" id="prediction-b3">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b6-container">
                <h2 style="background: var(--gradient-3); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-star"></i> NEW LOGIC BLOCK
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b6">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b6">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B6 Prediction (12th)</div>
                    <span class="result-text color-wait" id="prediction-b6">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b7-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-microchip"></i> BLOCK 7 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b7">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b7">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B7 Prediction</div>
                    <span class="result-text color-wait" id="prediction-b7">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b8-container">
                <h2 style="background: var(--gradient-2); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-calculator"></i> BLOCK 8 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b8">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b8">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B8 Prediction (1-Win Rev)</div>
                    <span class="result-text color-wait" id="prediction-b8">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b9-container">
                <h2 style="background: var(--gradient-1); -webkit-background-clip: text; color: transparent;">
                    <i class="fas fa-sitemap"></i> BLOCK 9 LOGIC
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b9">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b9">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B9 Prediction (B7+B8)</div>
                    <span class="result-text color-wait" id="prediction-b9">Waiting...</span>
                </div>
            </div>

            <div class="container" id="block-b10-container">
                <h2 style="background: var(--gradient-10); -webkit-background-clip: text; color: transparent; font-size: 19px;">
                    <i class="fas fa-atom"></i> DURVESH VIP 3 level
                </h2>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-check"></i> Period</span>
                    <span class="info-value" id="period-b10">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clock"></i> Next Prediction</span>
                    <span class="info-value" id="timer-b10">00:00</span>
                </div>
                <div class="result-box">
                    <div class="result-label">B10 Prediction (B8/B9 Compare)</div>
                    <span class="result-text color-wait" id="prediction-b10">Waiting...</span>
                </div>
            </div>
            </div>
    </div>

    <script>
        const predictorApp = {
            // --- GLOBAL STATE ---
            oneMinHistory: [],
            last1mPeriod: "",
            
            // --- LOSS DETECTION STATES ---
            consecutiveLossCount: 0,
            oneMinPredictionHistory: [],
            
            consecutiveLossCountB3: 0,
            block3PredictionHistory: [],
            
            consecutiveLossCountB4: 0,
            block4PredictionHistory: [],
            
            consecutiveLossCountB5: 0,
            block5PredictionHistory: [],

            consecutiveLossCountB6: 0,
            block6PredictionHistory: [],

            consecutiveLossCountB7: 0,
            block7PredictionHistory: [],

            consecutiveWinCountB8: 0, 
            block8PredictionHistory: [],

            consecutiveLossCountB9: 0,
            block9PredictionHistory: [],
            block7LastPrediction: null, 
            block8LastPrediction: null, 

            // --- ADDED FOR BLOCK 10 ---
            consecutiveLossCountB10: 0,
            block10PredictionHistory: [],
            block9LastPrediction: null,

            // --- HELPER FUNCTION ---
            delay: ms => new Promise(resolve => setTimeout(resolve, ms)),

            // --- PREDICTOR CLASSES (AI, DEV DARK, ZENITH) ---
            // (The full predictor logic is here, unchanged)
            
            AIPredictor: class {
                constructor() { this.history = []; this.lastPrediction = null; }
                analyzePatterns(history) {
                    if (history.length < 5) return null;
                    const analysis = { sizeStreak: 0, sizeAlternation: 0, numberFrequency: {}, lastNumbers: [] };
                    analysis.lastNumbers = history.slice(0, 5).map(item => item.number);
                    let currentStreak = 1; let alternations = 0;
                    for (let i = 1; i < history.length; i++) {
                        const prevSize = history[i-1].size; const currentSize = history[i].size;
                        if (prevSize === currentSize) { currentStreak++; } else {
                            analysis.sizeStreak = Math.max(analysis.sizeStreak, currentStreak);
                            currentStreak = 1; alternations++;
                        }
                        if (!analysis.numberFrequency[history[i].number]) { analysis.numberFrequency[history[i].number] = 0; }
                        analysis.numberFrequency[history[i].number]++;
                    }
                    analysis.sizeAlternation = alternations / (history.length - 1);
                    analysis.sizeStreak = currentStreak;
                    return analysis;
                }
                generatePrediction(analysis) {
                    if (!analysis) return this.generateRandomPrediction();
                    const prediction = { number: null, size: null, confidence: 0.5, reasoning: [] };
                    if (analysis.sizeStreak >= 3) {
                        const lastSize = analysis.lastNumbers[0] <= 4 ? 'small' : 'big';
                        prediction.size = lastSize === 'small' ? 'big' : 'small';
                        prediction.confidence += 0.2;
                        prediction.reasoning.push(`Breaking ${analysis.sizeStreak}-${lastSize} streak`);
                    }
                    if (analysis.sizeAlternation > 0.7) {
                        prediction.size = analysis.lastNumbers[0] <= 4 ? 'big' : 'small';
                        prediction.confidence += 0.15;
                        prediction.reasoning.push(`High alternation pattern (${(analysis.sizeAlternation*100).toFixed(0)}%)`);
                    }
                    if (prediction.size === null && prediction.number === null) { return this.generateWeightedRandomPrediction(analysis); }
                    if (prediction.number === null) {
                        const possibleNumbers = prediction.size === 'small' ? [0, 1, 2, 3, 4] : [5, 6, 7, 8, 9];
                        prediction.number = possibleNumbers[Math.floor(Math.random() * possibleNumbers.length)];
                    } else if (prediction.size === null) { prediction.size = prediction.number <= 4 ? 'small' : 'big'; }
                    prediction.confidence = Math.min(0.9, prediction.confidence);
                    return prediction;
                }
                generateWeightedRandomPrediction(analysis) {
                    const numberWeights = Array(10).fill(1);
                    for (const [num, count] of Object.entries(analysis.numberFrequency)) { numberWeights[num] = 1 / (count + 1); }
                    const totalWeight = numberWeights.reduce((sum, weight) => sum + weight, 0);
                    const normalizedWeights = numberWeights.map(weight => weight / totalWeight);
                    const cumulativeWeights = [];
                    normalizedWeights.reduce((sum, weight, i) => { cumulativeWeights[i] = sum + weight; return sum + weight; }, 0);
                    const random = Math.random(); let selectedNumber = 0;
                    for (let i = 0; i < cumulativeWeights.length; i++) { if (random <= cumulativeWeights[i]) { selectedNumber = i; break; } }
                    return { number: selectedNumber, size: selectedNumber <= 4 ? 'small' : 'big', confidence: 0.6, reasoning: ['Weighted random selection'] };
                }
                generateRandomPrediction() {
                    const number = Math.floor(Math.random() * 10);
                    return { number, size: number <= 4 ? 'small' : 'big', confidence: 0.5, reasoning: ['Random prediction (insufficient data)'] };
                }
            },
            aiPredictorInstance: null,
            getDevDarkPrediction: function(history, currentConsecutiveLosses, lastPred) {
                if (history.length < 3) return "BIG";
                if (currentConsecutiveLosses >= 2) { return lastPred === "BIG" ? "SMALL" : "BIG"; }
                const recent = history.slice(0, 5); let alternating = true;
                for (let i = 1; i < recent.length; i++) {
                    if ((recent[i-1].resultType === "BIG" && recent[i].resultType !== "SMALL") || (recent[i-1].resultType === "SMALL" && recent[i].resultType !== "BIG")) {
                        alternating = false; break;
                    }
                }
                if (alternating && recent.length > 1) { return recent[recent.length-1].resultType === "BIG" ? "SMALL" : "BIG"; }
                if (recent.length === 0) return "BIG";
                let lastStreakType = recent[0].resultType; let streakLength = 1;
                for (let i = 1; i < recent.length; i++) { if (recent[i].resultType === lastStreakType) { streakLength++; } else { break; } }
                if (streakLength >= 3) { return lastStreakType === "BIG" ? "SMALL" : "BIG"; }
                let bigCount = recent.filter(r => r.resultType === "BIG").length;
                let smallCount = recent.filter(r => r.resultType === "SMALL").length;
                if (bigCount >= 4) return "SMALL"; if (smallCount >= 4) return "BIG";
                if (recent.length >= 2) {
                    const lastTwo = recent.slice(0, 2);
                    if (lastTwo[0].resultType === lastTwo[1].resultType) { return lastTwo[0].resultType === "BIG" ? "SMALL" : "BIG"; }
                }
                return recent[0].resultType === "BIG" ? "SMALL" : "BIG";
            },
            getZenithPrediction: function(history) {
                if (history.length < 3) return "BIG";
                const lastResults = history.slice(0, 5).map(item => item.number);
                const fibWeights = [8, 5, 3, 2, 1]; let fibSum = 0; let totalWeight = 0;
                lastResults.forEach((result, index) => {
                    const weight = fibWeights[index] || 1;
                    fibSum += result * weight; totalWeight += weight;
                });
                const fibPrediction = Math.round(fibSum / totalWeight) % 10;
                let trendUp = 0;
                for (let i = 1; i < lastResults.length; i++) {
                    if (lastResults[i] > lastResults[i-1]) trendUp++;
                    else if (lastResults[i] < lastResults[i-1]) trendUp--;
                }
                const trendPrediction = trendUp > 0 ? "SMALL" : "BIG";
                const numberCounts = {};
                history.forEach(item => { numberCounts[item.number] = (numberCounts[item.number] || 0) + 1; });
                const sortedNumbers = Object.keys(numberCounts).sort((a, b) => numberCounts[b] - numberCounts[a]);
                const hotPrediction = sortedNumbers[0] >= 5 ? "BIG" : "SMALL";
                const strategies = [
                    { prediction: fibPrediction >= 5 ? "BIG" : "SMALL", weight: 4 },
                    { prediction: trendPrediction, weight: 3 },
                    { prediction: hotPrediction, weight: 2 }
                ];
                let bigVotes = 0; let smallVotes = 0;
                strategies.forEach(strategy => {
                    if (strategy.prediction === "BIG") { bigVotes += strategy.weight; } else { smallVotes += strategy.weight; }
                });
                return bigVotes > smallVotes ? "BIG" : "SMALL";
            },
            
            // --- 1. API FETCHER ---
            fetch1MinHistoryAndResult: async function(period) {
                try {
                    const currentTimestamp = Math.floor(Date.now() / 1000);
                
                    // === MODIFIED FOR HEROKU/KOYEB ===
                    const response = await fetch("/api/get-history", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            // === pageSize: 10 AS REQUESTED ===
                            "pageSize": 10,
                            "pageNo": 1,
                            "typeId": 1,
                            "language": 0,
                            "random": "c2505d9138da4e3780b2c2b34f2fb789",
                            "signature": "7D637E060DA35C0C6E28DC6D23D71BED",
                            "timestamp": currentTimestamp
                        })
                    });
                    
                    if (!response.ok) { throw new Error(`API error! Status: ${response.status}`); }
                    const data = await response.json();
                    if (data.code !== 0) { console.warn("1-Min API returned error:", data.msg); return null; }

                    const newMappedResults = (data?.data?.list || []).map(item => {
                        const num = parseInt(item.number, 10) % 10;
                        return { period: item.issueNumber, number: num, size: num <= 4 ? 'small' : 'big', color: num % 2 === 0 ? 'RED' : 'GREEN' };
                    });

                    if (newMappedResults.length > 0) {
                        const existingPeriods = new Set(this.oneMinHistory.map(item => item.period));
                        const trulyNewResults = newMappedResults.filter(item => !existingPeriods.has(item.period));
                        this.oneMinHistory = [...trulyNewResults, ...this.oneMinHistory];
                        
                        // === slice(0, 21) AS REQUESTED ===
                        if (this.oneMinHistory.length > 21) {
                            this.oneMinHistory = this.oneMinHistory.slice(0, 21);
                        }
                    }

                    if (this.oneMinHistory.length === 0) { console.warn("Fetched 1-min history, but list was empty."); }
                    this.aiPredictorInstance.history = this.oneMinHistory;
                    const targetResult = data?.data?.list?.find(item => item.issueNumber === period);
                    
                    if (targetResult) {
                        const actualNumber = parseInt(targetResult.number, 10) % 10;
                        return { period: targetResult.issueNumber, actualResult: actualNumber >= 5 ? 'BIG' : 'SMALL' };
                    }
                    return null;
                } catch (error) {
                    console.error(`Error fetching 1-min result for period ${period}:`, error);
                    const predictionB5El = document.getElementById("prediction-b5");
                    if (predictionB5El && predictionB5El.textContent.includes("Waiting")) { 
                         predictionB5El.textContent = "API Error. Check Console.";
                         predictionB5El.className = "result-text color-error";
                    }
                    // ADDED b10
                    ["prediction-1m", "prediction-b2", "prediction-b3", "prediction-b4", "prediction-b6", "prediction-b7", "prediction-b8", "prediction-b9", "prediction-b10"].forEach(id => {
                        const el = document.getElementById(id);
                        if (el) { el.textContent = "API Error. Check Console."; el.className = "result-text color-error"; }
                    });
                    return null;
                }
            },

            // --- 2. PREDICTION LOGIC ---
            checkPreviousResult: async function(period) {
                const myPrediction = this.oneMinPredictionHistory.find(p => p.period === period);
                const myPredictionB3 = this.block3PredictionHistory.find(p => p.period === period);
                const myPredictionB4 = this.block4PredictionHistory.find(p => p.period === period); 
                const myPredictionB5 = this.block5PredictionHistory.find(p => p.period === period);
                const myPredictionB6 = this.block6PredictionHistory.find(p => p.period === period);
                const myPredictionB7 = this.block7PredictionHistory.find(p => p.period === period);
                const myPredictionB8 = this.block8PredictionHistory.find(p => p.period === period);
                const myPredictionB9 = this.block9PredictionHistory.find(p => p.period === period);
                // ADDED b10
                const myPredictionB10 = this.block10PredictionHistory.find(p => p.period === period);
                
                // ADDED b10
                if (!myPrediction && !myPredictionB3 && !myPredictionB4 && !myPredictionB5 && !myPredictionB6 && !myPredictionB7 && !myPredictionB8 && !myPredictionB9 && !myPredictionB10) {
                    await this.fetch1MinHistoryAndResult(period);
                    console.log(`No prediction found for period ${period}. History updated.`);
                    return;
                }

                let apiResult = null; let retries = 5; 
                while (retries > 0) {
                    apiResult = await this.fetch1MinHistoryAndResult(period);
                    if (apiResult && apiResult.actualResult) { break; }
                    retries--;
                    console.log(`Actual result for ${period} not available yet. Retries left: ${retries}`);
                    if (retries > 0) { await this.delay(1500); }
                }

                if (!apiResult || !apiResult.actualResult) { console.warn(`Gave up fetching result for ${period}. Loss count may be inaccurate.`); return; }

                if (myPrediction) {
                    if (myPrediction.prediction === apiResult.actualResult) { this.consecutiveLossCount = 0; } else { this.consecutiveLossCount++; }
                }
                if (myPredictionB3) {
                    if (myPredictionB3.prediction === apiResult.actualResult) { this.consecutiveLossCountB3 = 0; } else { this.consecutiveLossCountB3++; }
                }
                if (myPredictionB4) {
                    if (myPredictionB4.prediction === apiResult.actualResult) { this.consecutiveLossCountB4 = 0; } else { this.consecutiveLossCountB4++; }
                }
                if (myPredictionB5) {
                    if (myPredictionB5.prediction === apiResult.actualResult) { this.consecutiveLossCountB5 = 0; } else { this.consecutiveLossCountB5++; }
                }
                if (myPredictionB6) {
                    if (myPredictionB6.prediction === apiResult.actualResult) { this.consecutiveLossCountB6 = 0; } else { this.consecutiveLossCountB6++; }
                }
                if (myPredictionB7) {
                    if (myPredictionB7.prediction === apiResult.actualResult) { this.consecutiveLossCountB7 = 0; } else { this.consecutiveLossCountB7++; }
                }
                if (myPredictionB8) {
                    if (myPredictionB8.prediction === apiResult.actualResult) { this.consecutiveWinCountB8++; } else { this.consecutiveWinCountB8 = 0; }
                }
                if (myPredictionB9) {
                    if (myPredictionB9.prediction === apiResult.actualResult) { this.consecutiveLossCountB9 = 0; } else { this.consecutiveLossCountB9++; }
                }
                // ADDED b10
                if (myPredictionB10) {
                    if (myPredictionB10.prediction === apiResult.actualResult) { this.consecutiveLossCountB10 = 0; } else { this.consecutiveLossCountB10++; }
                }
            },


            update1MinGame: async function() {
                const now = new Date();
                // === OFFSET REMOVED ===
                
                const year = now.getUTCFullYear();
                const month = String(now.getUTCMonth() + 1).padStart(2, '0');
                const day = String(now.getUTCDate()).padStart(2, '0');
                const totalMinutes = now.getUTCHours() * 60 + now.getUTCMinutes();
                const periodNumber = `${year}${month}${day}${1001 + totalMinutes}`;
                const remainingSeconds = 60 - now.getUTCSeconds();
                const timerString = `00:${String(remainingSeconds).padStart(2, '0')}`;

                // ADDED b10
                ['timer-1m', 'timer-b2', 'timer-b3', 'timer-b4', 'timer-b5', 'timer-b6', 'timer-b7', 'timer-b8', 'timer-b9', 'timer-b10'].forEach(id => {
                    const el = document.getElementById(id); if (el) el.textContent = timerString;
                });

                if (periodNumber !== this.last1mPeriod) {
                    const previousPeriod = this.last1mPeriod;
                    this.last1mPeriod = periodNumber;
                    
                    // ADDED b10
                    ['period-1m', 'period-b2', 'period-b3', 'period-b4', 'period-b5', 'period-b6', 'period-b7', 'period-b8', 'period-b9', 'period-b10'].forEach(id => {
                        const el = document.getElementById(id); if (el) el.textContent = periodNumber;
                    });
                    
                    // ADDED b10
                    ['prediction-1m', 'prediction-b2', 'prediction-b3', 'prediction-b4', 'prediction-b5', 'prediction-b6', 'prediction-b7', 'prediction-b8', 'prediction-b9', 'prediction-b10'].forEach(id => {
                        const el = document.getElementById(id);
                        if (el) { el.textContent = "Waiting..."; el.className = "result-text color-wait"; }
                    });

                    try {
                        await this.checkPreviousResult(previousPeriod); 
                        if (this.oneMinHistory.length === 0 && !previousPeriod) {
                            await this.fetch1MinHistoryAndResult(null);
                        }

                        const block1UIResult = await this.generateMasterPrediction(this.last1mPeriod); 
                        this.generateBlock2Prediction();
                        const block3FinalResult = this.generateBlock3Prediction(block1UIResult);
                        const block4FinalResult = this.generateBlock4Prediction(block3FinalResult);
                        const block5FinalResult = this.generateBlock5Prediction(block4FinalResult);
                        const block6FinalResult = this.generateBlock6Prediction(block5FinalResult);
                        const block7FinalResult = this.generateBlock7Prediction(block6FinalResult);
                        this.generateBlock8Prediction(block7FinalResult); 
                        this.generateBlock9Prediction();
                        // ADDED b10
                        this.generateBlock10Prediction();
                        
                    } catch (e) {
                        console.error("Error during immediate prediction:", e);
                        // ADDED b10
                        ['prediction-1m', 'prediction-b2', 'prediction-b3', 'prediction-b4', 'prediction-b5', 'prediction-b6', 'prediction-b7', 'prediction-b8', 'prediction-b9', 'prediction-b10'].forEach(id => {
                            const el = document.getElementById(id);
                            if (el) { el.textContent = "Error"; el.className = "result-text color-error"; }
                        });
                    }
                }
            },

            generateMasterPrediction: async function(oneMinPeriod) {
                const predictionEl = document.getElementById("prediction-1m");
                if (this.oneMinHistory.length < 11) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return null; }
                const zenithPrediction = this.getZenithPrediction(this.oneMinHistory);
                const eleventhResult = this.oneMinHistory[10].size.toUpperCase();
                let basePrediction = (this.consecutiveLossCount >= 2) ? ((zenithPrediction === eleventhResult) ? "SMALL" : "BIG") : ((zenithPrediction === eleventhResult) ? "BIG" : "SMALL");
                let finalPredictionForUI = (basePrediction === 'BIG') ? 'SMALL' : 'BIG';
                this.oneMinPredictionHistory.push({ period: oneMinPeriod, prediction: basePrediction });
                if (this.oneMinPredictionHistory.length > 10) this.oneMinPredictionHistory.shift();
                predictionEl.textContent = finalPredictionForUI;
                predictionEl.className = `result-text ${finalPredictionForUI === "BIG" ? "color-big" : "color-small"}`;
                return finalPredictionForUI;
            },
            
            generateBlock2Prediction: function() {
                const predictionEl = document.getElementById("prediction-b2");
                if (this.oneMinHistory.length < 9) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return; }
                try {
                    const n1 = this.oneMinHistory[0].number, n3 = this.oneMinHistory[2].number, n9 = this.oneMinHistory[8].number;
                    let total = n1 + n3 + n9; if (n3 % 2 === 0) { total--; }
                    const resultNum = (total % 10 + 10) % 10;
                    const latestResultSize = this.oneMinHistory[0].size.toUpperCase();
                    const oppositeResultSize = (latestResultSize === 'BIG') ? 'SMALL' : 'BIG';
                    let finalPrediction = [1, 3, 6, 8].includes(resultNum) ? latestResultSize : oppositeResultSize;
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                } catch (e) { console.error("Error in Block 2:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; }
            },
            
            generateBlock3Prediction: function(hackResult) {
                const predictionEl = document.getElementById("prediction-b3");
                if (this.oneMinHistory.length < 9) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return null; }
                if (hackResult === null) { predictionEl.textContent = "Waiting for Hack..."; predictionEl.className = "result-text color-wait"; return null; }
                try {
                    const n1 = this.oneMinHistory[0].number, n3 = this.oneMinHistory[2].number, n9 = this.oneMinHistory[8].number;
                    let total = n1 + n3 + n9; if (n3 % 2 === 0) { total--; }
                    const calcNum = (total % 10 + 10) % 10;
                    const calcParity = (calcNum % 2 === 0) ? 'EVEN' : 'ODD';
                    const latestResult = this.oneMinHistory[0].size.toUpperCase();
                    const oppositeResult = (latestResult === 'BIG') ? 'SMALL' : 'BIG';
                    let basePrediction = ((hackResult === 'BIG' && calcParity === 'ODD') || (hackResult === 'SMALL' && calcParity === 'EVEN')) ? oppositeResult : latestResult;
                    let finalPrediction = (this.consecutiveLossCountB3 >= 3) ? (basePrediction === 'BIG' ? 'SMALL' : 'BIG') : basePrediction;
                    this.block3PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block3PredictionHistory.length > 10) this.block3PredictionHistory.shift();
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                    return finalPrediction;
                } catch (e) { console.error("Error in Block 3:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; return null; }
            },

            generateBlock4Prediction: function(block3Prediction) {
                const predictionEl = document.getElementById("prediction-b4");
                if (this.oneMinHistory.length < 8) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return null; }
                if (block3Prediction === null || typeof block3Prediction === 'undefined') { predictionEl.textContent = "Waiting for L3 Hack..."; predictionEl.className = "result-text color-wait"; return null; }
                try {
                    const eighthResult = this.oneMinHistory[7];
                    const eighthIsGreen = (eighthResult.number % 2 !== 0);
                    const eighthSize = eighthResult.size.toUpperCase();
                    const oppositeEighthSize = (eighthSize === 'BIG') ? 'SMALL' : 'BIG';
                    let basePrediction = eighthIsGreen ? eighthSize : ((block3Prediction === 'SMALL') ? eighthSize : oppositeEighthSize);
                    let finalPrediction = (this.consecutiveLossCountB4 >= 2) ? (basePrediction === 'BIG' ? 'SMALL' : 'BIG') : basePrediction;
                    this.block4PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block4PredictionHistory.length > 10) this.block4PredictionHistory.shift();
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                    return finalPrediction;
                } catch (e) { console.error("Error in Block 4:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; return null; }
            },
            
            generateBlock5Prediction: function(block4Prediction) {
                const predictionEl = document.getElementById("prediction-b5");
                if (this.oneMinHistory.length < 11) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return null; }
                if (block4Prediction === null || typeof block4Prediction === 'undefined') { predictionEl.textContent = "Waiting for VIP Hack..."; predictionEl.className = "result-text color-wait"; return null; }
                try {
                    const firstColorIsRed = (this.oneMinHistory[0].number % 2 === 0);
                    const eleventhColorIsRed = (this.oneMinHistory[10].number % 2 === 0);
                    let basePrediction = (firstColorIsRed === eleventhColorIsRed) ? block4Prediction : (block4Prediction === 'BIG' ? 'SMALL' : 'BIG');
                    let finalPrediction = basePrediction;
                    this.block5PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block5PredictionHistory.length > 10) this.block5PredictionHistory.shift();
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                    return finalPrediction;
                } catch (e) { console.error("Error in Block 5:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; return null; }
            },

            generateBlock6Prediction: function(block5Prediction) {
                const predictionEl = document.getElementById("prediction-b6");
                if (this.oneMinHistory.length < 12) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return; }
                if (block5Prediction === null || typeof block5Prediction === 'undefined') { predictionEl.textContent = "Waiting for B5 Result..."; predictionEl.className = "result-text color-wait"; return; }
                try {
                    const twelfthSize = this.oneMinHistory[11].size.toUpperCase();
                    const latestSize = this.oneMinHistory[0].size.toUpperCase();
                    const oppositeLatestSize = (latestSize === 'BIG') ? 'SMALL' : 'BIG';
                    let basePrediction = (twelfthSize === block5Prediction) ? latestSize : oppositeLatestSize;
                    let finalPrediction = (this.consecutiveLossCountB6 >= 2) ? (basePrediction === 'BIG' ? 'SMALL' : 'BIG') : basePrediction;
                    this.block6PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block6PredictionHistory.length > 10) this.block6PredictionHistory.shift();
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                    return finalPrediction;
                } catch (e) { console.error("Error in Block 6:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; return null; }
            },
            
            generateBlock7Prediction: function(block6Prediction) {
                const predictionEl = document.getElementById("prediction-b7");
                if (this.oneMinHistory.length < 12) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return; }
                if (block6Prediction === null || typeof block6Prediction === 'undefined') { predictionEl.textContent = "Waiting for B6 Result..."; predictionEl.className = "result-text color-wait"; return; }
                try {
                    const firstColorIsRed = (this.oneMinHistory[0].number % 2 === 0);
                    const twelfthColorIsRed = (this.oneMinHistory[11].number % 2 === 0);
                    const firstResultSize = this.oneMinHistory[0].size.toUpperCase();
                    const oppositeFirstResultSize = (firstResultSize === 'BIG') ? 'SMALL' : 'BIG';
                    const areColorsSame = (firstColorIsRed === twelfthColorIsRed);
                    const isBlock6Big = (block6Prediction === 'BIG');
                    let basePrediction = (isBlock6Big === areColorsSame) ? firstResultSize : oppositeFirstResultSize;
                    let finalPrediction = (this.consecutiveLossCountB7 >= 2) ? (basePrediction === 'BIG' ? 'SMALL' : 'BIG') : basePrediction;
                    this.block7PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block7PredictionHistory.length > 10) this.block7PredictionHistory.shift();
                    this.block7LastPrediction = finalPrediction;
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                    return finalPrediction;
                } catch (e) { console.error("Error in Block 7:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; this.block7LastPrediction = null; return null; }
            },
            
            generateBlock8Prediction: function(block7Prediction) {
                const predictionEl = document.getElementById("prediction-b8");
                if (this.oneMinHistory.length < 2) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; return null; }
                if (block7Prediction === null || typeof block7Prediction === 'undefined') { predictionEl.textContent = "Waiting for B7 Result..."; predictionEl.className = "result-text color-wait"; return null; }
                try {
                    const n1 = this.oneMinHistory[0].number, n2 = this.oneMinHistory[1].number;
                    let total = n1 + n2 + (block7Prediction === 'BIG' ? 2 : 1);
                    let basePrediction = (total % 2 !== 0) ? 'BIG' : 'SMALL';
                    let finalPrediction = (this.consecutiveWinCountB8 >= 1) ? (basePrediction === 'BIG' ? 'SMALL' : 'BIG') : basePrediction;
                    this.block8PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block8PredictionHistory.length > 10) this.block8PredictionHistory.shift();
                    this.block8LastPrediction = finalPrediction;
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                    return finalPrediction;
                } catch (e) { console.error("Error in Block 8:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; this.block8LastPrediction = null; return null; }
            },

            // MODIFIED to store result for B10
            generateBlock9Prediction: function() {
                const predictionEl = document.getElementById("prediction-b9");
                const block7Prediction = this.block7LastPrediction, block8Prediction = this.block8LastPrediction;
                if (this.oneMinHistory.length < 1) { predictionEl.textContent = "Waiting for prediction..."; predictionEl.className = "result-text color-wait"; this.block9LastPrediction = null; return; }
                if (block7Prediction === null || typeof block7Prediction === 'undefined') { predictionEl.textContent = "Waiting for B7 Result..."; predictionEl.className = "result-text color-wait"; this.block9LastPrediction = null; return; }
                if (block8Prediction === null || typeof block8Prediction === 'undefined') { predictionEl.textContent = "Waiting for B8 Result..."; predictionEl.className = "result-text color-wait"; this.block9LastPrediction = null; return; }
                try {
                    const firstResultSize = this.oneMinHistory[0].size.toUpperCase();
                    const oppositeFirstResultSize = (firstResultSize === 'BIG') ? 'SMALL' : 'BIG';
                    let basePrediction = (block7Prediction === block8Prediction) ? firstResultSize : oppositeFirstResultSize;
                    let finalPrediction = (this.consecutiveLossCountB9 >= 1) ? (basePrediction === 'BIG' ? 'SMALL' : 'BIG') : basePrediction;
                    this.block9PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block9PredictionHistory.length > 10) this.block9PredictionHistory.shift();
                    
                    this.block9LastPrediction = finalPrediction; // STORE FOR B10
                    
                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;
                } catch (e) { console.error("Error in Block 9:", e); predictionEl.textContent = "Error"; predictionEl.className = "result-text color-error"; this.block9LastPrediction = null; }
            },

            // --- *** NEW FUNCTION FOR BLOCK 10 *** ---
            generateBlock10Prediction: function() {
                const predictionEl = document.getElementById("prediction-b10");
                
                const block8Prediction = this.block8LastPrediction;
                const block9Prediction = this.block9LastPrediction;

                // THIS IS THE PROBLEM. IT NEEDS 21 ITEMS.
                if (this.oneMinHistory.length < 21) { 
                    predictionEl.textContent = "Waiting for prediction...";
                    predictionEl.className = "result-text color-wait";
                    return;
                }
                
                if (block8Prediction === null || typeof block8Prediction === 'undefined') {
                    predictionEl.textContent = "Waiting for B8 Result...";
                    predictionEl.className = "result-text color-wait";
                    return;
                }
                
                if (block9Prediction === null || typeof block9Prediction === 'undefined') {
                    predictionEl.textContent = "Waiting for B9 Result...";
                    predictionEl.className = "result-text color-wait";
                    return;
                }

                try {
                    const firstResult = this.oneMinHistory[0];
                    const eleventhResult = this.oneMinHistory[10];
                    const twentyFirstResult = this.oneMinHistory[20];
                    
                    const firstResultSize = firstResult.size.toUpperCase();
                    const oppositeFirstResultSize = (firstResultSize === 'BIG') ? 'SMALL' : 'BIG';

                    let basePrediction;
                    if (block8Prediction === block9Prediction) {
                        let bigCount = 0;
                        if (firstResult.size.toUpperCase() === 'BIG') bigCount++;
                        if (eleventhResult.size.toUpperCase() === 'BIG') bigCount++;
                        if (twentyFirstResult.size.toUpperCase() === 'BIG') bigCount++;
                        
                        const smallCount = 3 - bigCount;
                        
                        if (bigCount > smallCount || smallCount > bigCount) {
                            basePrediction = oppositeFirstResultSize;
                        } else {
                            basePrediction = firstResultSize; 
                        }
                    } else {
                        basePrediction = firstResultSize;
                    }

                    let finalPrediction = basePrediction;
                    
                    this.block10PredictionHistory.push({ period: this.last1mPeriod, prediction: finalPrediction });
                    if (this.block10PredictionHistory.length > 10) this.block10PredictionHistory.shift();

                    predictionEl.textContent = finalPrediction;
                    predictionEl.className = `result-text ${finalPrediction === "BIG" ? "color-big" : "color-small"}`;

                } catch (e) {
                    console.error("Error in Block 10 Prediction:", e);
                    predictionEl.textContent = "Error";
                    predictionEl.className = "result-text color-error";
                }
            },
            
            // --- 4. INITIALIZE ---
            start: async function() {
                console.log("Initializing predictor on page. Fetching initial 1-min history...");
                const predictionB5El = document.getElementById("prediction-b5");
                this.aiPredictorInstance = new this.AIPredictor();
                try {
                    await this.fetch1MinHistoryAndResult(null);
                } catch (e) { 
                    console.error("Error fetching initial 1-min history:", e);
                    predictionB5El.textContent = "CORS Error: Run from server.";
                    predictionB5El.className = "result-text color-error";
                    
                    // ADDED b10
                    ['prediction-1m', 'prediction-b2', 'prediction-b3', 'prediction-b4', 'prediction-b6', 'prediction-b7', 'prediction-b8', 'prediction-b9', 'prediction-b10'].forEach(id => {
                        const el = document.getElementById(id);
                        if(el) { el.textContent = "CORS Error: Run from server."; el.className = "result-text color-error"; }
                    });
                }
                const boundUpdate = this.update1MinGame.bind(this);
                boundUpdate();
                setInterval(boundUpdate, 1000);
            }
        };
        // --- END PREDICTOR LOGIC ---

        document.addEventListener('DOMContentLoaded', () => {
            predictorApp.start();
        });
    </script>
</body>
</html>
